<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estilo AAA</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@700&display=swap');

        :root {
            --bg-color: #1a1a1a;
            --text-color: #f0f0f0;
            --accent-color: #d4af37;
            --secondary-bg: #2a2a2a;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            line-height: 1.6;
        }

        header {
            background: var(--bg-color);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--accent-color);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
        }

        nav ul li {
            margin-left: 2rem;
        }

        nav ul li a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--accent-color);
        }

        .hero-section {
            background-color: var(--secondary-bg);
            min-height: 80vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
            background-image: url('img/imagen_001.png');
            filter: brightness(0.4);
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('img/imagen_001.png');
            filter: brightness(0.4);
            background-size: cover;
            background-position: center;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-content h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent-color);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .hero-content p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .btn {
            display: inline-block;
            padding: 1rem 2.5rem;
            background-color: var(--accent-color);
            color: var(--bg-color);
            text-decoration: none;
            border-radius: 5px;
            font-weight: 600;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-3px);
            background-color: #e6b840;
        }

        .section {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: auto;
            text-align: center;
        }

        .section h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--accent-color);
        }

        /* Servicios */
        .services-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background-color: var(--secondary-bg);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-10px);
        }

        .service-card i {
            font-size: 3rem;
            color: var(--accent-color);
            margin-bottom: 1rem;
        }

        .service-card h3 {
            margin: 0.5rem 0;
            font-size: 1.5rem;
        }

        /* Productos */
        .filter-controls {
            text-align: center;
            margin-bottom: 2rem;
            display: none;
            flex-direction: column;
            gap: 1rem;
            border: 1px solid var(--accent-color);
            padding: 2rem;
            border-radius: 8px;
            background-color: var(--secondary-bg);
        }
        
        .filter-group {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .filter-group label {
            font-weight: 600;
            margin-right: 10px;
            color: var(--accent-color);
        }
        
        .filter-btn {
            background-color: transparent;
            border: 2px solid var(--accent-color);
            color: var(--text-color);
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .filter-btn.active, .filter-btn:hover {
            background-color: var(--accent-color);
            color: var(--bg-color);
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            min-height: 400px;
            justify-content: center;
            align-content: flex-start;
        }
        
        .product-item {
            background-color: var(--secondary-bg);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        
        .product-item:hover {
            transform: translateY(-10px);
        }
        
        .product-item img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .product-item img:hover {
            transform: scale(1.1);
        }

        .product-info {
            padding: 1.5rem;
            text-align: left;
        }
        
        .product-info h3 {
            margin-top: 0;
            font-size: 1.4rem;
            color: var(--accent-color);
        }
        
        .product-info p {
            margin-bottom: 0;
            font-weight: 600;
        }

        .product-description {
            font-size: 0.9rem;
            color: #ccc;
            margin-top: 0.5rem;
        }
        
        /* FAQs */
        .faq-item {
            background-color: var(--secondary-bg);
            margin-bottom: 1rem;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: left;
            transition: transform 0.3s ease;
        }
        
        .faq-item h3 {
            margin: 0;
            cursor: pointer;
            position: relative;
            font-size: 1.2rem;
        }
        
        .faq-item p {
            margin-top: 1rem;
            display: none;
            opacity: 0;
            max-height: 0;
            transition: opacity 0.5s ease-in-out, max-height 0.5s ease-in-out;
        }
        
        .faq-item.active p {
            display: block;
            opacity: 1;
            max-height: 500px;
        }
        
        /* Contacto */
        .contact-buttons {
            margin-top: 2rem;
        }
        
        .contact-btn {
            display: inline-block;
            background-color: var(--accent-color);
            color: var(--bg-color);
            padding: 1rem 2rem;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
            margin: 0 0.5rem;
            transition: background-color 0.3s ease;
        }
        
        .whatsapp-btn {
            background-color: #25D366;
            color: white;
        }
        
        .whatsapp-btn:hover {
            background-color: #128C7E;
        }
        
        .contact-info {
            margin-top: 2rem;
        }

        /* Catálogo */
        .catalogo-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }
        
        .catalogo-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            background-color: var(--secondary-bg);
            color: var(--text-color);
            padding: 2rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            width: 250px;
        }
        
        .catalogo-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.5);
        }
        
        .catalogo-btn i {
            font-size: 3rem;
            color: var(--accent-color);
        }

        /* Footer */
        footer {
            background-color: var(--secondary-bg);
            text-align: center;
            padding: 2rem 0;
            margin-top: 2rem;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                text-align: center;
            }
            nav ul {
                margin-top: 1rem;
                justify-content: center;
                flex-wrap: wrap;
            }
            nav ul li {
                margin: 0.5rem;
            }
            .hero-content h1 {
                font-size: 2.5rem;
            }
            .section h2 {
                font-size: 2rem;
            }
            .filter-controls {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
            .filter-btn {
                margin: 0.5rem 0.2rem;
            }
        }

        /* Estilos para el visor de imágenes (modal) */
        .image-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            padding-top: 60px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: rgba(0, 0, 0, 0.9);
        }

        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 700px;
            transition: transform 0.3s ease-in-out;
            cursor: zoom-in;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }

        /* Nuevo botón de filtros */
        .filter-toggle-btn {
            background-color: var(--accent-color);
            color: var(--bg-color);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }
        .filter-toggle-btn i {
            margin-right: 8px;
        }
        .filter-toggle-btn:hover {
            background-color: #e6b840;
        }

        /* Botón de WhatsApp flotante */
        .floating-whatsapp-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #25D366;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .floating-whatsapp-btn:hover {
            transform: scale(1.1);
        }

        .loader-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 300px;
            flex-direction: column;
        }

        .loader {
            border: 8px solid #f3f3f3;
            border-top: 8px solid var(--accent-color);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .no-products-message {
            text-align: center;
            padding: 50px;
            font-size: 1.2rem;
            color: #ccc;
        }
        
        /* Botón de Subir (CORREGIDO) */
        .scroll-to-top-btn {
            position: fixed;
            bottom: 20px;
            right: 90px;
            background-color: var(--accent-color);
            color: var(--bg-color);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: none;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 1000;
            cursor: pointer;
        }

        .scroll-to-top-btn:hover {
            transform: scale(1.1);
        }
    </style>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">Estilo AAA</div>
        <nav>
            <ul>
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#servicios">Servicios</a></li>
                <li><a href="#catalogo">Catálogo</a></li>
                <li><a href="#productos">Productos</a></li>
                <li><a href="#acerca-de-nosotros">Acerca de Nosotros</a></li>
                <li><a href="#faqs">FAQs</a></li>
                <li><a href="#contacto">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="inicio" class="hero-section">
            <div class="hero-content">
                <h1>Tu estilo, nuestra pasión.</h1>
                <p>Descubre lo último en calzado de las marcas más exclusivas.</p>
                <a href="#productos" class="btn">Explorar ahora</a>
            </div>
        </section>

        <section id="servicios" class="section">
            <h2>Nuestros servicios</h2>
            <div class="services-container">
                <div class="service-card">
                    <i class="fas fa-shipping-fast"></i>
                    <h3>Envío rápido</h3>
                    <p>Entregamos tus pedidos en tiempo récord.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Calidad garantizada</h3>
                    <p>Productos 100% originales de las mejores marcas.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-headset"></i>
                    <h3>Atención al cliente</h3>
                    <p>Siempre listos para resolver tus dudas.</p>
                </div>
            </div>
        </section>

        <section id="catalogo" class="section">
            <h2>Descargar Catálogos</h2>
            <p>Descarga nuestros catálogos en formato PDF para ver la lista completa de nuestros productos y precios.</p>
            <div class="catalogo-container">
                <a href="EstiloAAA_catalogo_promociones.pdf" class="catalogo-btn" download>
                    <i class="fas fa-file-pdf"></i>
                    <span>Catálogo de Promociones</span>
                </a>
                <a href="EstiloAAA_catalogo_ropa.pdf" class="catalogo-btn" download>
                    <i class="fas fa-file-pdf"></i>
                    <span>Catálogo de Ropa</span>
                </a>
                <a href="EstiloAAA_catalogo_regular.pdf" class="catalogo-btn" download>
                    <i class="fas fa-file-pdf"></i>
                    <span>Catálogo Regular</span>
                </a>
            </div>
        </section>

        <section id="productos" class="section">
            <h2>Productos</h2>
            
            <button id="filter-toggle-btn" class="filter-toggle-btn">
                <i class="fas fa-filter"></i> Mostrar Filtros
            </button>
            
            <div id="filter-controls" class="filter-controls">
                <div class="filter-group">
                    <label>Marca:</label>
                    <button class="filter-btn brand-filter active" data-filter="all">Todos</button>
                    <button class="filter-btn brand-filter" data-filter="adidas">Adidas</button>
                    <button class="filter-btn brand-filter" data-filter="asics">Asics</button>
                    <button class="filter-btn brand-filter" data-filter="converse">Converse</button>
                    <button class="filter-btn brand-filter" data-filter="crocs">Crocs</button>
                    <button class="filter-btn brand-filter" data-filter="dcshoes">DC Shoes</button>
                    <button class="filter-btn brand-filter" data-filter="futbol">Fútbol</button>
                    <button class="filter-btn brand-filter" data-filter="lecoqsportif">Le Coq Sportif</button>
                    <button class="filter-btn brand-filter" data-filter="newbalance">New Balance</button>
                    <button class="filter-btn brand-filter" data-filter="nike">Nike</button>
                    <button class="filter-btn brand-filter" data-filter="puma">Puma</button>
                    <button class="filter-btn brand-filter" data-filter="reebok">Reebok</button>
                    <button class="filter-btn brand-filter" data-filter="runonclouds">Run On Clouds</button>
                    <button class="filter-btn brand-filter" data-filter="sandalias">Sandalias</button>
                    <button class="filter-btn brand-filter" data-filter="tommyhilfiger">Tommy Hilfiger</button>
                    <button class="filter-btn brand-filter" data-filter="underarmour">Under Armour</button>
                    <button class="filter-btn brand-filter" data-filter="vans">Vans</button>
                    <button class="filter-btn brand-filter" data-filter="promociones">Promociones</button>
                </div>
                <div class="filter-group">
                    <label>Género:</label>
                    <button class="filter-btn gender-filter active" data-filter-gender="all">Todos</button>
                    <button class="filter-btn gender-filter" data-filter-gender="hombre">Hombre</button>
                    <button class="filter-btn gender-filter" data-filter-gender="mujer">Mujer</button>
                </div>
                <div class="filter-group">
                    <label>Talla:</label>
                    <button class="filter-btn size-filter active" data-filter-size="all">Todas</button>
                    <button class="filter-btn size-filter" data-filter-size="38">38</button>
                    <button class="filter-btn size-filter" data-filter-size="39">39</button>
                    <button class="filter-btn size-filter" data-filter-size="40">40</button>
                    <button class="filter-btn size-filter" data-filter-size="41">41</button>
                    <button class="filter-btn size-filter" data-filter-size="42">42</button>
                </div>
                <button id="clear-filters-btn" class="btn">Limpiar Filtros</button>
            </div>
            
            <div id="product-list" class="product-grid">
                <div class="loader-container" id="loader">
                    <div class="loader"></div>
                    <p>Cargando productos...</p>
                </div>
            </div>
        </section>

        <section id="acerca-de-nosotros" class="section">
            <h2>Acerca de Nosotros</h2>
            <p>Somos Estilo AAA, tu destino para calzado de alta calidad. Nos apasiona ofrecer los modelos más exclusivos y las últimas tendencias de las marcas líderes a nivel mundial. Con una experiencia de compra sin igual, garantizamos autenticidad y satisfacción en cada paso que das con nosotros.</p>
        </section>
        
        <section id="faqs" class="section">
            <h2>Preguntas Frecuentes</h2>
            <div class="faq-item">
                <h3>¿Cómo puedo realizar mi pedido?</h3>
                <p>Puedes hacer tu pedido directamente en nuestra página web. Simplemente elige tus productos, añádelos al carrito y sigue los pasos para el pago. También puedes contactarnos por WhatsApp.</p>
            </div>
            <div class="faq-item">
                <h3>¿Cuánto tiempo tarda el envío?</h3>
                <p>El tiempo de envío varía dependiendo de tu ubicación. Por lo general, los pedidos son entregados entre 3 y 5 días hábiles después de la confirmación del pago.</p>
            </div>
            <div class="faq-item">
                <h3>¿Los productos son originales?</h3>
                <p>Sí, todos nuestros productos son 100% originales, adquiridos directamente de los distribuidores autorizados de cada marca.</p>
            </div>
        </section>

        <section id="contacto" class="section">
            <h2>Contacto</h2>
            <p>¿Necesitas ayuda? ¡Contáctanos!</p>
            <div class="contact-buttons">
                <a href="https://wa.me/50612345678" class="contact-btn whatsapp-btn" target="_blank"><i class="fab fa-whatsapp"></i> Hablar con un Bot</a>
            </div>
            <p class="contact-info">
                Correo: contacto@estiloaaa.com <br>
                Teléfono: +506 1234 5678 <br>
                Dirección: San José, Costa Rica
            </p>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Estilo AAA. Todos los derechos reservados.</p>
    </footer>

    <a href="https://wa.me/50612345678" class="floating-whatsapp-btn" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>
    
    <a href="#top" id="scroll-to-top-btn" class="scroll-to-top-btn">
        <i class="fas fa-arrow-up"></i>
    </a>

    <div id="image-modal" class="image-modal">
        <span class="close-btn">&times;</span>
        <img class="modal-content" id="modal-image">
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="product_info.js"></script>
    <script>
        $(document).ready(function(){
            const allProducts = [];
            const folderStructure = {
                'img': {
                    'adidas': ['Hombre', 'Mujer'],
                    'asics': ['Hombre', 'Mujer'],
                    'converse': ['Hombre', 'Mujer'],
                    'dcshoes': ['Hombre', 'Mujer'],
                    'futbol': ['Hombre', 'Mujer'],
                    'lecoqsportif': ['Hombre', 'Mujer'],
                    'newbalance': ['Hombre', 'Mujer'],
                    'nike': ['Hombre', 'Mujer'],
                    'puma': ['Hombre', 'Mujer'],
                    'vans': ['Hombre', 'Mujer'],
                },
                'promociones': {
                    'adidas': ['Hombre', 'Mujer'],
                    'converse': ['Hombre', 'Mujer'],
                    'crocs': ['Hombre', 'Mujer'],
                    'futbol': ['Hombre', 'Mujer'],
                    'lecoqsportif': ['Hombre', 'Mujer'],
                    'newbalance': ['Hombre', 'Mujer'],
                    'nike': ['Hombre', 'Mujer'],
                    'puma': ['Hombre', 'Mujer'],
                    'reebok': ['Hombre', 'Mujer'],
                    'runonclouds': ['Hombre', 'Mujer'],
                    'sandalias': ['Hombre', 'Mujer'],
                    'tommyhilfiger': ['Hombre', 'Mujer'],
                    'underarmour': ['Hombre', 'Mujer'],
                    'vans': ['Hombre', 'Mujer'],
                }
            };

            const MAX_IMAGE_COUNT = 500;
            let promises = [];

            function generateProductsFromFolder(basePath, brand, genders, isPromo) {
                genders.forEach(gender => {
                    promises.push(new Promise((resolve) => {
                        const products = [];
                        let imageIndex = 1;
                        const checkImage = () => {
                            if (imageIndex > MAX_IMAGE_COUNT) return resolve(products);
                            const formattedIndex = String(imageIndex).padStart(3, '0');
                            let imageNamePrefix = gender.toLowerCase();
                            if (brand === 'futbol') {
                                imageNamePrefix = 'futbol';
                            }
                            
                            const imageName = `${imageNamePrefix}_${formattedIndex}.png`;
                            const imagePath = `${basePath}/${brand}/${gender}/${imageName}`;
                            
                            const productInfoKey = `${brand}/${gender}/${imageName}`;
                            const productInfo = window.productData?.[productInfoKey] || {
                                price: '₡0',
                                description: 'Descripción del producto...'
                            };
                            
                            const img = new Image();
                            img.onload = () => {
                                products.push({
                                    brand: brand,
                                    gender: gender.toLowerCase(),
                                    promo: isPromo,
                                    name: `${brand.charAt(0).toUpperCase() + brand.slice(1)} ${gender} ${formattedIndex}`,
                                    price: productInfo.price,
                                    description: productInfo.description,
                                    imagePath: imagePath
                                });
                                imageIndex++;
                                checkImage();
                            };
                            img.onerror = () => resolve(products);
                            img.src = imagePath;
                        };
                        checkImage();
                    }));
                });
            }

            function loadAllProducts() {
                // Main folder
                for (const brand in folderStructure.img) {
                    generateProductsFromFolder('img', brand, folderStructure.img[brand], false);
                }
                // Promociones folder
                for (const brand in folderStructure.promociones) {
                    generateProductsFromFolder('img/promociones', brand, folderStructure.promociones[brand], true);
                }

                Promise.all(promises).then(results => {
                    results.forEach(productArray => {
                        allProducts.push(...productArray);
                    });
                    $('#loader').hide();
                    if (allProducts.length === 0) {
                        $('#product-list').html('<p class="no-products-message">No se encontraron productos.</p>');
                    } else {
                        applyFilters();
                    }
                });
            }

            function loadProducts(productsToRender) {
                const productsContainer = $('#product-list');
                productsContainer.empty();

                if (productsToRender.length === 0) {
                    productsContainer.html('<p class="no-products-message">No se encontraron productos con estos filtros.</p>');
                    return;
                }

                productsToRender.forEach(product => {
                    const productItem = `
                        <div class="product-item" data-brand="${product.brand}" data-gender="${product.gender}" data-promo="${product.promo ? 'true' : 'false'}" data-size="40">
                            <img src="${product.imagePath}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/600x400.png?text=Imagen+No+Disponible'">
                            <div class="product-info">
                                <h3>${product.name}</h3>
                                <p>${product.price}</p>
                                <p class="product-description">${product.description}</p>
                            </div>
                        </div>
                    `;
                    productsContainer.append(productItem);
                });
            }

            function applyFilters() {
                const brandFilter = $('.brand-filter.active').data('filter');
                const genderFilter = $('.gender-filter.active').data('filter-gender');
                const sizeFilter = $('.size-filter.active').data('filter-size');

                const filteredProducts = allProducts.filter(product => {
                    const brandMatch = (brandFilter === 'all' || (brandFilter === 'promociones' && product.promo) || product.brand === brandFilter);
                    const genderMatch = (genderFilter === 'all' || product.gender === genderFilter);
                    const sizeMatch = (sizeFilter === 'all');
                    
                    return brandMatch && genderMatch && sizeMatch;
                });
                
                loadProducts(filteredProducts);
            }

            $('.filter-btn').on('click', function(){
                const filterGroup = $(this).parent();
                filterGroup.find('.filter-btn').removeClass('active');
                $(this).addClass('active');
                applyFilters();
            });

            $('#clear-filters-btn').on('click', function() {
                $('.filter-group .filter-btn').removeClass('active');
                $('.brand-filter[data-filter="all"]').addClass('active');
                $('.gender-filter[data-filter-gender="all"]').addClass('active');
                $('.size-filter[data-filter-size="all"]').addClass('active');
                applyFilters();
            });

            $('#filter-toggle-btn').on('click', function() {
                $('#filter-controls').slideToggle('fast');
                const icon = $(this).find('i');
                const isVisible = $('#filter-controls').is(':visible');
                icon.toggleClass('fa-filter fa-times');
                $(this).html(isVisible ? '<i class="fas fa-times"></i> Ocultar Filtros' : '<i class="fas fa-filter"></i> Mostrar Filtros');
            });
            
            const modal = $('#image-modal');
            const modalImage = $('#modal-image');
            const closeModal = $('.close-btn');

            $('#product-list').on('click', '.product-item img', function() {
                modal.css('display', 'block');
                modalImage.attr('src', $(this).attr('src'));
            });

            closeModal.on('click', function() {
                modal.css('display', 'none');
            });

            $(window).on('click', function(event) {
                if ($(event.target).is(modal)) {
                    modal.css('display', 'none');
                }
            });
            
            modalImage.on('mousemove', function(e) {
                const zoomFactor = 1.5;
                const rect = e.target.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const xPercent = (x / rect.width) * 100;
                const yPercent = (y / rect.height) * 100;
                $(this).css({
                    'transform-origin': `${xPercent}% ${yPercent}%`,
                    'transform': `scale(${zoomFactor})`
                });
            }).on('mouseleave', function() {
                $(this).css('transform', 'scale(1)');
            });

            $('.faq-item h3').on('click', function() {
                $(this).parent().toggleClass('active');
            });

            // Scroll to Top button logic
            const scrollToTopBtn = $('#scroll-to-top-btn');
            $(window).on('scroll', function() {
                if ($(this).scrollTop() > 200) {
                    scrollToTopBtn.fadeIn();
                } else {
                    scrollToTopBtn.fadeOut();
                }
            });
            
            scrollToTopBtn.on('click', function(e) {
                e.preventDefault();
                $('html, body').animate({
                    scrollTop: 0
                }, 800);
            });

            loadAllProducts();
        });
    </script>
</body>
</html>